{
	"info": {
		"_postman_id": "1d32f0b7-f198-4215-b815-90df59c47d28",
		"name": "Central de Pagamentos",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json",
		"_exporter_id": "47834417"
	},
	"item": [
		{
			"name": "Gateway 1",
			"item": [
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"dev@betalent.tech\",\n    \"token\": \"FEC9BB078BF338F464F96B48089EB498\"\n}"
						},
						"url": "http://localhost:3001/login"
					},
					"response": []
				},
				{
					"name": "List Transactions",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{gateway1_token}}"
							}
						},
						"method": "GET",
						"header": [],
						"url": "http://localhost:3001/transactions"
					},
					"response": []
				},
				{
					"name": "Create Transaction",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{gateway1_token}}"
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"amount\": 1000,\n    \"name\": \"tester\",\n    \"email\": \"tester@email.com\",\n    \"cardNumber\": \"5569000000006063\",\n    \"cvv\": \"010\"\n}"
						},
						"url": "http://localhost:3001/transactions"
					},
					"response": []
				},
				{
					"name": "Chargeback",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{gateway1_token}}"
							}
						},
						"method": "POST",
						"header": [],
						"url": "http://localhost:3001/transactions/69375e22-0a7d-4ab6-884b-dbf6ce8e781e/charge_back"
					},
					"response": []
				}
			]
		},
		{
			"name": "Gateway 2",
			"item": [
				{
					"name": "Listar Transações",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Gateway-Auth-Token",
								"value": "{{gateway2_token}}"
							},
							{
								"key": "Gateway-Auth-Secret",
								"value": "{{gateway2_secret}}"
							}
						],
						"url": "http://localhost:3002/transacoes"
					},
					"response": []
				},
				{
					"name": "Criar Transação",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Gateway-Auth-Token",
								"value": "tk_f2198cc671b5289fa856"
							},
							{
								"key": "Gateway-Auth-Secret",
								"value": "3d15e8ed6131446ea7e3456728b1211f"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"valor\": 1000,\n    \"nome\": \"tester\",\n    \"email\": \"tester@email.com\",\n    \"numeroCartao\": \"5569000000006063\",\n    \"cvv\": \"010\"\n}"
						},
						"url": "http://localhost:3002/transacoes"
					},
					"response": []
				},
				{
					"name": "Reembolso",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Gateway-Auth-Token",
								"value": "tk_f2198cc671b5289fa856"
							},
							{
								"key": "Gateway-Auth-Secret",
								"value": "3d15e8ed6131446ea7e3456728b1211f"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": \"4e5f84ec-4e7f-4939-8d8b-c6384bc820a1\"\n}"
						},
						"url": "http://localhost:3002/transacoes/reembolso"
					},
					"response": []
				}
			]
		},
		{
			"name": "API",
			"item": [
				{
					"name": "Login",
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"admin@admin.com\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{api_url}}/login"
					},
					"response": []
				},
				{
					"name": "Get Client",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "GET",
						"header": [],
						"url": "{{api_url}}/client/1"
					},
					"response": []
				},
				{
					"name": "List Clientes",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "GET",
						"header": [],
						"url": "{{api_url}}/client"
					},
					"response": []
				},
				{
					"name": "Create Transaction",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"client\": {\r\n        \"name\": \"João Santos\",\r\n        \"email\": \"joao@joao.com\"\r\n    },\r\n    \"payment_info\": {\r\n        \"card_numbers\": \"1111222233334444\",\r\n        \"cvv\": \"123\"\r\n    },\r\n    \"products\": [\r\n        {\r\n            \"id\": 1,\r\n            \"quantity\": 2\r\n        },\r\n        {\r\n            \"id\": 2,\r\n            \"quantity\": 5\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{api_url}}/transaction"
					},
					"response": []
				},
				{
					"name": "Get Transaction",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "GET",
						"header": [],
						"url": "{{api_url}}/transaction/2"
					},
					"response": []
				},
				{
					"name": "List Transaction",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "GET",
						"header": [],
						"url": "{{api_url}}/transaction"
					},
					"response": []
				},
				{
					"name": "Chargeback Transaction",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "POST",
						"header": [],
						"url": "{{api_url}}/transaction/1/chargeback"
					},
					"response": []
				},
				{
					"name": "Edit Gateway",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"is_active\": true,\r\n    \"priority\": 1\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{api_url}}/gateway/2"
					},
					"response": []
				},
				{
					"name": "Create User",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"Nome de teste\",\r\n    \"email\": \"email1@email2ddd.com\",\r\n    \"password\": \"@123User\",\r\n    \"password_confirmation\": \"@123User\",\r\n    \"role\": \"ADMIN\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{api_url}}/user"
					},
					"response": []
				},
				{
					"name": "Get User",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "GET",
						"header": [],
						"url": "{{api_url}}/user/2"
					},
					"response": []
				},
				{
					"name": "List User",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "GET",
						"header": [],
						"url": "{{api_url}}/user"
					},
					"response": []
				},
				{
					"name": "Edit User",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"Name Updated\",\r\n    \"email\": \"email@updated.com\",\r\n    \"password\": \"@newPass321\",\r\n    \"password_confirmation\": \"@newPass321\",\r\n    \"role\": \"USER\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{api_url}}/user/2"
					},
					"response": []
				},
				{
					"name": "Delete User",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "DELETE",
						"header": [],
						"url": "{{api_url}}/user/2"
					},
					"response": []
				},
				{
					"name": "Create Product",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"Produto U\",\r\n    \"amount\": 5599\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{api_url}}/product"
					},
					"response": []
				},
				{
					"name": "Get Product",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "GET",
						"header": [],
						"url": "{{api_url}}/product/5"
					},
					"response": []
				},
				{
					"name": "List Product",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "GET",
						"header": [],
						"url": "{{api_url}}/product"
					},
					"response": []
				},
				{
					"name": "Edit Product",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"Produto Com Novo Nome\",\r\n    \"amount\": 8887\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{api_url}}/product/1"
					},
					"response": []
				},
				{
					"name": "Delete Product",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "DELETE",
						"header": [],
						"url": "{{api_url}}/product/11"
					},
					"response": []
				},
				{
					"name": "Logout",
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {}
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{api_bearer}}"
							}
						},
						"method": "POST",
						"header": [],
						"url": "{{api_url}}/logout"
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "gateway1_token",
			"value": ""
		},
		{
			"key": "gateway2_token",
			"value": ""
		},
		{
			"key": "gateway2_secret",
			"value": ""
		},
		{
			"key": "api_url",
			"value": ""
		},
		{
			"key": "api_bearer",
			"value": ""
		}
	]
}